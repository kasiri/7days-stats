<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>7 Days to Die Stats</title>
  <style>
    body { font-family: Arial; background: #111; color: #eee; padding: 20px; }
    .card { background: #222; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
    h1 { color: #ff4444; }
  </style>
</head>
<body>

<h1>Operación 7D — Estadísticas en tiempo real</h1>

<div class="card">
  <h2>Servidor</h2>
  <p>Día: <span id="day"></span></p>
  <p>Hora: <span id="time"></span></p>
  <p>Próxima horda (día <span id="hordeDay"></span>): <span id="hordeIn"></span></p>
</div>

<div class="card">
  <h2>Jugadores online: <span id="playersOnline"></span></h2>
  <ul id="players"></ul>
</div>

<script>
async function loadStats() {
  const res = await fetch("http://TU-IP-PUBLICA:9000/stats");
  const data = await res.json();

  document.getElementById("day").textContent = data.day;
  document.getElementById("time").textContent = data.time;
  document.getElementById("hordeDay").textContent = data.nextHordeDay;
  document.getElementById("hordeIn").textContent = data.nextHordeIn;
  document.getElementById("playersOnline").textContent = data.playersOnline;

  const list = document.getElementById("players");
  list.innerHTML = "";

  data.players.forEach(p => {
    const li = document.createElement("li");
    li.textContent = `${p.name} — Nivel ${p.level}, Zombies ${p.zombies}, Score ${p.score}, Ping ${p.ping}`;
    list.appendChild(li);
  });
}

loadStats();
setInterval(loadStats, 10000);
</script>

</body>
</html>

